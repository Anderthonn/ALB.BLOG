@model ALB.BLOG.BLO.ViewModels.PageVM

@{
    ViewData["Title"] = "Contact";

    string pageThumbnail = "";

   if (string.IsNullOrEmpty(Model.ThumbnailUrl))
    {
        pageThumbnail = "/blog/assets/img/contact-bg.jpg";
    }
    else
    {
        pageThumbnail = "/thumbnails/" + Model.ThumbnailUrl;
    }
}

<!-- Page Header-->
<header class="masthead bg-black" style="background-image: url('@pageThumbnail')">
    <div class="container position-relative px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
            <div class="col-md-10 col-lg-8 col-xl-7">
                <div class="page-heading">
                    <h1>@Model.Title</h1>
                    <span class="subheading">@Model.ShortDescription</span>
                </div>
            </div>
        </div>
    </div>
</header>
<div class="container mt-5 mb-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <h2 class="mb-4 title">Entre em Contato</h2>

            <!-- Formulário de Contato -->
            <form id="contactForm" action="/NomeDoController/ContactEmail" method="post">
                <div class="form-group mb-4">
                    <label for="nome" class="mb-2 title">Nome:</label>
                    <input type="text" class="form-control" id="nome" placeholder="Seu Nome">
                </div>

                <div class="form-group mb-4">
                    <label for="email" class="mb-2 title">Email:</label>
                    <input type="email" class="form-control" id="email" placeholder="Seu Email">
                </div>

                <div class="form-group mb-4">
                    <label for="mensagem" class="mb-2 title">Mensagem:</label>
                    <textarea class="form-control" id="mensagem" rows="4" placeholder="Sua Mensagem"></textarea>
                </div>

                <button type="submit" class="btn btn-alb">Enviar</button>
            </form>
        </div>
    </div>
</div>
<main class="mb-4">
    <div class="container px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
            <div class="col-md-10 col-lg-8 col-xl-7">
                @Html.Raw(Model.Description)
            </div>
        </div>
    </div>
</main>
<script>
    document.getElementById("contactForm").addEventListener("submit", function (event) {
        event.preventDefault();

        // Obtenha os dados do formulário
        var nome = document.getElementById("nome").value;
        var email = document.getElementById("email").value;
        var mensagem = document.getElementById("mensagem").value;

        // Crie um objeto com os dados do formulário
        var formData = {
            Nome: nome,
            Email: email,
            Mensagem: mensagem
        };

        // Envie os dados do formulário para o endpoint do controlador usando AJAX
        fetch("/NomeDoController/ContactEmail", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(formData)
        })
        .then(response => response.json())
        .then(data => {
            // Exiba a resposta do servidor (pode ser uma mensagem de sucesso)
            alert(data);
        })
        .catch(error => {
            // Lide com erros, se necessário
            console.error("Erro ao enviar o formulário:", error);
        });
    });
</script>